# Channel manager bot

## Установка и запуск

### 1. Установка Docker на хостинг
### 2. Билд приложения через команду docker-compose build
### 3. Запуск приложения через команду docker-compose up 

## Изменения конфигурации

### В файле docker-compose.yml можно изменить токен бота

## Перезапуск

### Для того, чтобы перезапустить бота нужно просто остановить текущий процесс в докере и запустить бота командой docker-compose up --build

# Документация

## Client.ts 

- handleCommands() 
    - Метод отвечает за обработку входящих команд от юзера. Беребирается папка с командами и для каждой из них есть обработка. Есть проверка является ли человек администратором по id, и если он администратор - выполняется код команды который находится в файле самой команды 
- handleMessages() 
    - Метод отвечает за обработку входящих сообщений. Если у администратора есть отметка того, что он должен вводить информацию в сообщении - информация заносится временно в базу данных и обрабатывается команда после сообщения, об этом ниже
- handleFuncs()
  - Метод отвечает за перебор и обработку всех команд после сообщения о который я сказал выше, в коде они называются functions
- handleButtons()
  - Метод отвечает за обработку кнопок. Перебираются кнопки из папки buttons и вешается обработка на каждую из них. Так же есть проверка на то, есть ли нажатая кнопка в последнем высланом меню
- handleChannels()
  - Метод отвечает за обработку каналов, в которых состоит бот. При добавлении в канал бота на правах администратора мы заносим этот канал в базу данных, а при удалении бота из канала - удаляем канал из базы 
- handleMembers()
  - Метод отвечает за обработку пользователей в канале, чтобы при особых условиях при присоединении человека в канал ему высылалось приветствие и чтобы при выходе из канала ему высылалось прощание
- handleJoinRequests()
  - Метод отвечает за обработку новых заявок в канале, чтобы при особых условиях человеку высылалось приветствие 
- startBot()
  - Метод отвечает за запуск бота и вызов всех функций обработки

## Дополнительно

- structures/Button.ts, structures/Command.ts
  - Абстрактные классы для типизации команд и кнопок 
- slashes
  - Папка с командами, которые можно вызвать через /
- functions
  - Папка с командами после сообщений
- buttons
  - Папка с кнопками в сообщениях
- schemas 
  - Папка со схемами базы данных